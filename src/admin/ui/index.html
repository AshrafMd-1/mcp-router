<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MCP Gateway Admin</title>
    <style>
      :root {
        --bg: #f3f6fb;
        --panel: #ffffff;
        --line: #d6deec;
        --text: #11223f;
        --muted: #5a6c89;
        --accent: #0a6eff;
        --danger: #c2254d;
        --ok: #0e8f55;
        --chip: #eef3ff;
      }
      * { box-sizing: border-box; }
      body { margin: 0; font-family: "Avenir Next", "Segoe UI", sans-serif; background: var(--bg); color: var(--text); }
      .app { display: none; min-height: 100vh; }
      .app.ready { display: grid; grid-template-columns: 220px 1fr; }
      .sidebar { border-right: 1px solid var(--line); background: linear-gradient(180deg, #f9fbff, #f0f4ff); padding: 20px; }
      .brand { font-weight: 700; margin-bottom: 24px; }
      .nav-btn { width: 100%; text-align: left; border: 1px solid var(--line); background: #fff; color: var(--text); border-radius: 10px; padding: 10px 12px; margin-bottom: 10px; cursor: pointer; }
      .nav-btn.active { border-color: var(--accent); color: var(--accent); }
      .logout-btn { margin-top: 24px; width: 100%; border: 1px solid var(--line); background: #fff; border-radius: 10px; padding: 10px 12px; cursor: pointer; }
      .content { padding: 22px; }
      .toolbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
      .title { font-size: 24px; font-weight: 700; }
      .primary { border: 0; background: var(--accent); color: #fff; border-radius: 10px; padding: 10px 14px; cursor: pointer; }
      .cards { display: grid; gap: 12px; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); }
      .card { background: var(--panel); border: 1px solid var(--line); border-radius: 14px; padding: 14px; }
      .card-title { font-weight: 700; margin-bottom: 8px; }
      .small { color: var(--muted); font-size: 13px; }
      .badge { display: inline-block; padding: 4px 8px; border-radius: 999px; font-size: 12px; margin-right: 6px; background: var(--chip); }
      .badge.ok { color: var(--ok); }
      .badge.bad { color: var(--danger); }
      .link-row { margin-top: 10px; display: flex; gap: 8px; flex-wrap: wrap; }
      .link-btn { border: 1px solid var(--line); background: #fff; border-radius: 8px; padding: 6px 10px; cursor: pointer; }

      .modal-wrap { position: fixed; inset: 0; background: rgba(9, 18, 35, 0.35); display: none; align-items: center; justify-content: center; padding: 14px; }
      .modal-wrap.show { display: flex; }
      .modal { width: min(820px, 100%); max-height: 90vh; overflow: auto; background: #fff; border-radius: 14px; border: 1px solid var(--line); padding: 16px; }
      .modal-title { font-size: 20px; font-weight: 700; margin-bottom: 10px; }
      .label { display: block; font-size: 13px; color: var(--muted); margin-bottom: 6px; }
      input, textarea, select { width: 100%; border: 1px solid var(--line); border-radius: 10px; padding: 10px; margin-bottom: 10px; font: inherit; }
      textarea { min-height: 110px; }
      .actions { display: flex; gap: 8px; justify-content: flex-end; }
      .secondary { border: 1px solid var(--line); background: #fff; color: var(--text); border-radius: 10px; padding: 10px 14px; cursor: pointer; }
      .danger { border: 0; background: var(--danger); color: #fff; border-radius: 10px; padding: 10px 14px; cursor: pointer; }

      .chips { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px; }
      .chip { border: 1px solid var(--line); padding: 6px 10px; border-radius: 999px; cursor: pointer; background: #fff; font-size: 13px; }
      .chip.focus { border-color: var(--accent); color: var(--accent); background: #eef5ff; }
      .chip.allow { border-color: var(--ok); color: var(--ok); background: #edf9f3; }
      .json-panel { border: 1px solid var(--line); border-radius: 10px; background: #0f172a; color: #e2e8f0; padding: 10px; font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size: 12px; white-space: pre-wrap; }
      .tabs { display: flex; gap: 8px; margin-bottom: 12px; }
      .tab-btn { border: 1px solid var(--line); background: #fff; color: var(--text); border-radius: 10px; padding: 8px 12px; cursor: pointer; }
      .tab-btn.active { border-color: var(--accent); color: var(--accent); }
      .token-list { display: grid; gap: 8px; }
      .token-row { border: 1px solid var(--line); border-radius: 10px; background: #fff; padding: 10px; display: flex; justify-content: space-between; align-items: center; gap: 8px; }

      .notice { border: 1px solid var(--line); background: #fff; border-radius: 10px; padding: 10px; margin-bottom: 10px; }
      details { margin-top: 6px; }

      .login { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 16px; }
      .login-card { width: 360px; background: #fff; border: 1px solid var(--line); border-radius: 14px; padding: 18px; }
      .hidden { display: none; }
      .success { color: var(--ok); }
    </style>
  </head>
  <body>
    <div id="loginView" class="login">
      <div class="login-card">
        <div class="modal-title">Admin Login</div>
        <label class="label">Password</label>
        <input id="loginPassword" type="password" />
        <button id="loginSubmit" class="primary">Login</button>
        <div id="loginError" class="small"></div>
      </div>
    </div>

    <div id="app" class="app">
      <aside class="sidebar">
        <div class="brand">MCP Gateway</div>
        <button id="navClients" class="nav-btn active">Clients</button>
        <button id="navConnectors" class="nav-btn">Connectors</button>
        <button id="logoutBtn" class="logout-btn">Logout</button>
      </aside>
      <main class="content">
        <div class="toolbar">
          <div id="pageTitle" class="title"></div>
          <button id="createBtn" class="primary"></button>
        </div>
        <div id="errorBox"></div>
        <div id="cards" class="cards"></div>
      </main>
    </div>

    <div id="modalWrap" class="modal-wrap">
      <div id="modal" class="modal"></div>
    </div>

    <script type="module" src="/admin/app.js"></script>
  </body>
</html>
